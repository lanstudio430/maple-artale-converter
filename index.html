<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>楓之谷 Artale 換算器</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css">
    <style>
        body {
            background: linear-gradient(to right bottom, #add8e6, #87ceeb);
            font-family: 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
            color: #34495e;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        .container {
            max-width: 900px;
            padding: 30px 15px;
            margin: 15px;
            background-color: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            box-shadow: 0 15px 45px rgba(0, 0, 0, 0.2);
            transition: transform 0.3s ease-in-out;
        }
        .container:hover {
            transform: translateY(-5px);
        }

        .header-title {
            color: #3498db;
            font-weight: 700;
            margin-bottom: 40px;
            position: relative;
            padding-bottom: 15px;
            letter-spacing: 1.5px;
            line-height: 1.5;
        }
        .header-title::after {
            content: '';
            position: absolute;
            left: 50%;
            bottom: 0;
            transform: translateX(-50%);
            width: 100px;
            height: 5px;
            background-color: #3498db;
            border-radius: 3px;
        }

        .card {
            border: none;
            border-radius: 15px;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
            margin-bottom: 30px;
            overflow: hidden;
            transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
        }
        .card:hover {
            transform: translateY(-3px);
            box-shadow: 0 12px 30px rgba(0, 0, 0, 0.15);
        }

        .card-header {
            background: linear-gradient(to right, #3498db, #2980b9);
            color: #ffffff;
            font-weight: 600;
            border-bottom: none;
            padding: 18px 25px;
            display: flex;
            align-items: center;
            font-size: 1.15rem;
        }
        .card-header i {
            margin-right: 12px;
            font-size: 1.3rem;
        }

        .form-label {
            font-weight: 600;
            color: #555;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            font-size: 1.05rem;
        }
        .form-label i {
            margin-right: 8px;
            color: #3498db;
        }
        .form-label small {
            font-weight: normal;
            color: #888;
        }

        .input-group-text {
            background-color: #ecf0f1;
            color: #555;
            border: 1px solid #bdc3c7;
            min-width: 70px;
            justify-content: center;
            font-weight: 500;
            border-radius: .375rem 0 0 .375rem;
        }
        .input-group-text:last-child {
            border-radius: 0 .375rem .375rem 0;
        }
        .input-group-text i {
            margin-left: 5px;
        }

        .form-control {
            border-color: #bdc3c7;
            box-shadow: none !important;
            padding: 0.75rem 1rem;
            font-size: 1.1rem;
        }
        .form-control:focus {
            border-color: #3498db;
            box-shadow: 0 0 0 0.25rem rgba(52, 152, 219, 0.35) !important;
        }
        .form-control-lg {
            font-size: 1.25rem;
            padding: 0.85rem 1.2rem;
        }

        .result-group .form-control {
            background-color: #e8f6fc;
            font-weight: bold;
            color: #2980b9;
            cursor: default;
        }

        hr {
            border-top: 3px solid #b3e5fc;
            margin: 40px 0;
            opacity: 0.7;
        }

        input[type="number"]::-webkit-inner-spin-button,
        input[type="number"]::-webkit-outer-spin-button {
            -webkit-appearance: none;
            margin: 0;
        }
        input[type="number"] {
            -moz-appearance: textfield;
        }
    </style>
</head>
<body>
<div class="container">
    <h1 class="text-center header-title">
        楓之谷 Artale <br> <i class="fas fa-money-bill-transfer me-2"></i>換算器
    </h1>

    <div class="card">
        <div class="card-header">
            <i class="fas fa-sliders-h"></i> 匯率設定
        </div>
        <div class="card-body">
            <div class="row g-4">
                <div class="col-md-6">
                    <label for="wcToNtRate" class="form-label">
                        <i class="fas fa-w"></i> WC 幣 : 台幣
                    </label>
                    <div class="input-group">
                        <input type="number" class="form-control" id="wcToNtWC" value="400" min="1">
                        <span class="input-group-text">WC <i class="fas fa-arrow-right-arrow-left"></i></span>
                        <input type="number" class="form-control" id="wcToNtNT" value="60" min="1">
                        <span class="input-group-text">NT <i class="fas fa-dollar-sign"></i></span>
                    </div>
                </div>
                <div class="col-md-6">
                    <label for="wcToSnowflakeRate" class="form-label">
                        <i class="fas fa-snowflake"></i> WC 幣 : 雪花
                    </label>
                    <div class="input-group">
                        <input type="number" class="form-control" id="wcToSnowflakeWC" value="300" min="1">
                        <span class="input-group-text">WC <i class="fas fa-arrow-right-arrow-left"></i></span>
                        <input type="number" class="form-control" id="wcToSnowflakeSnowflake" value="11" min="1">
                        <span class="input-group-text">雪花 <i class="fas fa-snowflake"></i></span>
                    </div>
                </div>
                <div class="col-md-6">
                    <label for="snowflakeToMapleRate" class="form-label">
                        <i class="fab fa-canadian-maple-leaf"></i> 雪花 : 楓幣
                    </label>
                    <div class="input-group">
                        <input type="number" class="form-control" id="snowflakeToMapleSnowflake" value="1" min="1">
                        <span class="input-group-text">雪花 <i class="fas fa-arrow-right-arrow-left"></i></span>
                        <input type="number" class="form-control" id="snowflakeToMapleMaple" value="55000" min="1">
                        <span class="input-group-text">楓幣 <i class="fab fa-canadian-maple-leaf"></i></span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <hr>

    <div class="card">
        <div class="card-header">
            <i class="fas fa-calculator"></i> 換算輸入
        </div>
        <div class="card-body">
            <div class="mb-4">
                <label for="inputWC" class="form-label">
                    <i class="fas fa-w"></i> 輸入 WC 幣
                </label>
                <input type="number" class="form-control form-control-lg" id="inputWC" placeholder="請輸入 WC 幣數量" min="0">
            </div>
            <div class="mb-4">
                <label for="inputMaple" class="form-label">
                    <i class="fab fa-canadian-maple-leaf"></i> 輸入楓幣
                </label>
                <input type="number" class="form-control form-control-lg" id="inputMaple" placeholder="請輸入楓幣數量" min="0">
            </div>
            <div class="mb-4">
                <label for="inputSnowflake" class="form-label">
                    <i class="fas fa-snowflake"></i> 輸入雪花
                </label>
                <input type="number" class="form-control form-control-lg" id="inputSnowflake" placeholder="請輸入雪花數量" min="0">
            </div>
            <div class="mb-4">
                <label for="inputNT" class="form-label">
                    <i class="fas fa-dollar-sign"></i> 輸入台幣
                </label>
                <input type="number" class="form-control form-control-lg" id="inputNT" placeholder="請輸入台幣數量" min="0">
            </div>

            <hr>

            <h2 class="mb-4 text-center header-title">
                <i class="fa-solid fa-arrows-down-to-line me-2"></i> 換算結果
            </h2>
            <div class="row g-4 result-group">
                <div class="col-md-6">
                    <label for="outputWC" class="form-label">
                        <i class="fas fa-w"></i> WC 幣
                    </label>
                    <div class="input-group">
                        <input type="text" class="form-control" id="outputWC" readonly>
                        <span class="input-group-text">WC</span>
                    </div>
                </div>
                <div class="col-md-6">
                    <label for="outputMaple" class="form-label">
                        <i class="fab fa-canadian-maple-leaf"></i> 楓幣
                    </label>
                    <div class="input-group">
                        <input type="text" class="form-control" id="outputMaple" readonly>
                        <span class="input-group-text">楓幣</span>
                    </div>
                </div>
                <div class="col-md-6">
                    <label for="outputSnowflake" class="form-label">
                        <i class="fas fa-snowflake"></i> 雪花
                    </label>
                    <div class="input-group">
                        <input type="text" class="form-control" id="outputSnowflake" readonly>
                        <span class="input-group-text">雪花</span>
                    </div>
                </div>
                <div class="col-md-6">
                    <label for="outputNT" class="form-label">
                        <i class="fas fa-dollar-sign"></i> 台幣
                    </label>
                    <div class="input-group">
                        <input type="text" class="form-control" id="outputNT" readonly>
                        <span class="input-group-text">NT</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script>
    const wcToNtWCInput = document.getElementById('wcToNtWC');
    const wcToNtNTInput = document.getElementById('wcToNtNT');
    const wcToSnowflakeWCInput = document.getElementById('wcToSnowflakeWC');
    const wcToSnowflakeSnowflakeInput = document.getElementById('wcToSnowflakeSnowflake');
    const snowflakeToMapleSnowflakeInput = document.getElementById('snowflakeToMapleSnowflake');
    const snowflakeToMapleMapleInput = document.getElementById('snowflakeToMapleMaple');

    const inputWC = document.getElementById('inputWC');
    const inputMaple = document.getElementById('inputMaple');
    const inputSnowflake = document.getElementById('inputSnowflake');
    const inputNT = document.getElementById('inputNT');

    const outputWC = document.getElementById('outputWC');
    const outputMaple = document.getElementById('outputMaple');
    const outputSnowflake = document.getElementById('outputSnowflake');
    const outputNT = document.getElementById('outputNT');

    function updateConversion() {
        const wcToNtRateWC = parseFloat(wcToNtWCInput.value) || 1;
        const wcToNtRateNT = parseFloat(wcToNtNTInput.value) || 1;

        const wcToSnowflakeRateWC = parseFloat(wcToSnowflakeWCInput.value) || 1;
        const wcToSnowflakeRateSnowflake = parseFloat(wcToSnowflakeSnowflakeInput.value) || 1;

        const snowflakeToMapleRateSnowflake = parseFloat(snowflakeToMapleSnowflakeInput.value) || 1;
        const snowflakeToMapleRateMaple = parseFloat(snowflakeToMapleMapleInput.value) || 1;

        let wcValue = 0;
        let mapleValue = 0;
        let snowflakeValue = 0;
        let ntValue = 0;

        if (inputWC.value !== '') {
            wcValue = parseFloat(inputWC.value);
            snowflakeValue = (wcValue / wcToSnowflakeRateWC) * wcToSnowflakeRateSnowflake;
            mapleValue = (snowflakeValue / snowflakeToMapleRateSnowflake) * snowflakeToMapleRateMaple;
            ntValue = (wcValue / wcToNtRateWC) * wcToNtRateNT;
        } else if (inputMaple.value !== '') {
            mapleValue = parseFloat(inputMaple.value);
            snowflakeValue = (mapleValue / snowflakeToMapleRateMaple) * snowflakeToMapleRateSnowflake;
            wcValue = (snowflakeValue / wcToSnowflakeRateSnowflake) * wcToSnowflakeRateWC;
            ntValue = (wcValue / wcToNtRateWC) * wcToNtRateNT;
        } else if (inputSnowflake.value !== '') {
            snowflakeValue = parseFloat(inputSnowflake.value);
            wcValue = (snowflakeValue / wcToSnowflakeRateSnowflake) * wcToSnowflakeRateWC;
            mapleValue = (snowflakeValue / snowflakeToMapleRateSnowflake) * snowflakeToMapleRateMaple;
            ntValue = (wcValue / wcToNtRateWC) * wcToNtRateNT;
        } else if (inputNT.value !== '') {
            ntValue = parseFloat(inputNT.value);
            wcValue = (ntValue / wcToNtRateNT) * wcToNtRateWC;
            snowflakeValue = (wcValue / wcToSnowflakeRateWC) * wcToSnowflakeRateSnowflake;
            mapleValue = (snowflakeValue / snowflakeToMapleRateSnowflake) * snowflakeToMapleRateMaple;
        }

        // Apply thousand separators and fix to 2 decimal places for non-Maple values
        outputWC.value = isNaN(wcValue) ? '' : wcValue.toLocaleString('en-US', { minimumFractionDigits: 2, maximumFractionDigits: 2 });
        // Maple values typically don't have decimals, just thousand separators
        outputMaple.value = isNaN(mapleValue) ? '' : Math.round(mapleValue).toLocaleString('en-US');
        outputSnowflake.value = isNaN(snowflakeValue) ? '' : snowflakeValue.toLocaleString('en-US', { minimumFractionDigits: 2, maximumFractionDigits: 2 });
        outputNT.value = isNaN(ntValue) ? '' : ntValue.toLocaleString('en-US', { minimumFractionDigits: 2, maximumFractionDigits: 2 });
    }

    wcToNtWCInput.addEventListener('input', updateConversion);
    wcToNtNTInput.addEventListener('input', updateConversion);
    wcToSnowflakeWCInput.addEventListener('input', updateConversion);
    wcToSnowflakeSnowflakeInput.addEventListener('input', updateConversion);
    snowflakeToMapleSnowflakeInput.addEventListener('input', updateConversion);
    snowflakeToMapleMapleInput.addEventListener('input', updateConversion);

    inputWC.addEventListener('input', () => {
        if (inputWC.value !== '') {
            inputMaple.value = '';
            inputSnowflake.value = '';
            inputNT.value = '';
        }
        updateConversion();
    });
    inputMaple.addEventListener('input', () => {
        if (inputMaple.value !== '') {
            inputWC.value = '';
            inputSnowflake.value = '';
            inputNT.value = '';
        }
        updateConversion();
    });
    inputSnowflake.addEventListener('input', () => {
        if (inputSnowflake.value !== '') {
            inputWC.value = '';
            inputMaple.value = '';
            inputNT.value = '';
        }
        updateConversion();
    });
    inputNT.addEventListener('input', () => {
        if (inputNT.value !== '') {
            inputWC.value = '';
            inputMaple.value = '';
            inputSnowflake.value = '';
        }
        updateConversion();
    });

    updateConversion();
</script>
</body>
</html>